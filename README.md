# カードゲーム仕様

## 概要

ブラウザで動作する1対1のターン制カードゲームです。各プレイヤーはモンスターを召喚し、相手プレイヤーのライフポイントを0にすることを目指します。

## ゲームの準備

1.  **デッキ:** 各プレイヤーは事前に構築したデッキを使用します（今回はデッキ構築機能は含めず、固定デッキを想定）。
2.  **ライフポイント:** 各プレイヤーは初期ライフポイントとして20ポイントを持ちます。
3.  **初期手札:** 各プレイヤーはゲーム開始時に手札を3枚引きます。
4.  **先攻後攻:** ランダムまたは任意の方法で先攻・後攻を決定します。

## ゲームの進行

ゲームはターン制で進行します。各プレイヤーは自分のターンに以下のフェイズを実行します。

### 1. ターン開始フェイズ

*   **ドロー:** 自分のターンの開始時に、山札からカードを1枚引きます。手札の上限は原則として4枚です。各ターンのドローフェイズ終了時、手札が5枚以上ある場合は、4枚になるように任意のカードを選んで捨て札にします。
    *   **例外:** 先攻プレイヤーの最初のターンはドローを行いません。

### 2. メインフェイズ

*   **行動力:** 各プレイヤーは自分のターンに2ポイントの行動力を持ちます。先攻プレイヤーを含む各プレイヤーの最初のターンでも2ポイントが付与され、召喚などの行動が可能ですが、そのターン中は攻撃できません。
*   **コスト（ジェム）:** 各プレイヤーはターン開始時にジェムを2個獲得します。ジェムは蓄積され、使用されなかった分も次のターンに持ち越されます。また、自分のモンスターが破壊された場合、そのプレイヤーは追加でジェムを1個獲得します。
*   **実行可能なアクション:**
    *   **モンスターの召喚 (行動力1消費 + カード記載のコスト消費):**
        *   手札からモンスターカードを1枚選び、コストを支払って自分の盤面の空いているマスに召喚します。
        *   **盤面レイアウト:** 2x2の4マスで構成されます。
            ```
            前列左 | 前列右
            後列左 | 後列右
            ```
        *   既にモンスターがいるマスには召喚できません。
    *   **モンスターの攻撃 (行動力1消費):**
        *   自分の盤面のモンスターを1体選び、攻撃対象を指定して攻撃します。
        *   各プレイヤーの最初のターンは攻撃できません。
        *   **攻撃対象:**
            *   **位置制限:** モンスターは正面の敵のみ攻撃可能です（前列左は相手の前列左または後列左のみ攻撃可能）。
            *   相手の盤面にモンスターがいる場合: 相手の盤面の正面にいるモンスター1体。
            *   相手の盤面にモンスターがいない場合: 相手プレイヤー。
        *   **ダメージ計算:**
            *   **位置によるダメージ補正:**
                *   前列から後列に攻撃: ダメージ-1
                *   後列から前列に攻撃: ダメージ-1
                *   後列から後列に攻撃: ダメージ-2
                *   前列から前列に攻撃: ダメージ補正なし
                *   ※最低1ダメージは保証されます
            *   モンスターへの攻撃: 攻撃対象モンスターのHPから、補正後のダメージを引きます。HPが0以下になったモンスターは破壊され、盤面から取り除かれます。
            *   プレイヤーへの攻撃: 相手プレイヤーのライフポイントから、攻撃モンスターの攻撃力分のダメージを引きます。

### 3. ターン終了フェイズ

*   「ターン終了」を宣言し、相手プレイヤーのターンに移ります。
*   使用しなかった行動力は次のターンに持ち越せませんが、ジェムは蓄積されます。

## モンスターカード

*   各モンスターカードには以下の情報が記載されています。
    *   **名前:** モンスターの名前
    *   **HP (体力):** モンスターの体力。0になると破壊されます。
    *   **攻撃力:** モンスターが攻撃する際のダメージ量。
    *   **コスト:** モンスターを召喚するために必要なジェムの量。

## 勝利条件

*   相手プレイヤーのライフポイントを0にしたプレイヤーが勝利となります。

## その他ルール

*   **山札切れ:** 山札が0枚の状態でカードを引こうとした場合、そのプレイヤーはペナルティとして10ダメージを受けます。
*   **盤面が埋まっている場合:** 自分の盤面（2x2）が全てモンスターで埋まっている場合、新たなモンスターを召喚することはできません。

## コンピュータ対戦

*   プレイヤー1をユーザーが操作し、プレイヤー2は簡易AIが自動で行動します。
*   ユーザーが「ターン終了」ボタンを押すと、短い思考時間の後にAIが召喚や攻撃を順番に実行します。
*   AIは使用可能なジェムと行動力を基に召喚・攻撃を判断し、可能な範囲で最大戦力を展開します。
*   AIのターン中はボタンが「AI思考中...」に変化し、プレイヤーの入力は受け付けません。

## 将来的な拡張案

*   特殊能力を持つモンスター
*   魔法・罠カード
*   デッキ構築機能
*   プレイヤーアバターや盤面スキンのカスタマイズ

---
